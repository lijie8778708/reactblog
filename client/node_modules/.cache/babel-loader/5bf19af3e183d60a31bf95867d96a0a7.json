{"ast":null,"code":"var _jsxFileName = \"/Users/jieli/Desktop/reactblog/client/src/dashboard/NewPost.js\";\nimport React, { useState } from 'react';\nimport MdEditor from 'react-markdown-editor-lite';\nimport MarkdownIt from 'markdown-it';\nimport hljs from 'highlight.js';\nimport 'highlight.js/styles/atom-one-light.css';\nimport 'react-markdown-editor-lite/lib/index.css';\nimport { Button, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper, { PaperProps } from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    height: '800px',\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column'\n  }\n}));\n\nconst NewPost = ({\n  newPost\n}) => {\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    content: \"\"\n  });\n  const {\n    title,\n    description,\n    content\n  } = formData;\n  const classes = useStyles();\n  const [markdown, setMarkdown] = useState(\"\");\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const mdParser = new MarkdownIt({\n    html: true,\n    linkify: true,\n    typographer: true,\n    highlight: function (str, lang) {\n      if (lang && hljs.getLanguage(lang)) {\n        try {\n          return hljs.highlight(lang, str).value;\n        } catch (__) {}\n      }\n\n      return '';\n    }\n  });\n\n  const handleEditorChange = ({\n    html,\n    text\n  }) => {\n    setMarkdown(text);\n  };\n\n  const onChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-full-width\",\n    label: \"title\",\n    name: \"title\",\n    placeholder: \"Please enter the article title\",\n    helperText: \"No more than 20 character!\",\n    fullWidth: true,\n    margin: \"normal\",\n    InputLabelProps: {\n      shrink: true\n    },\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"component-outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n    id: \"component-outlined\",\n    value: name,\n    name: description,\n    onChange: handleChange,\n    label: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MdEditor, {\n    style: {\n      height: '100%'\n    },\n    renderHTML: text => mdParser.render(text),\n    value: markdown,\n    onChange: handleEditorChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    style: {\n      float: 'right',\n      marginTop: '3%'\n    },\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Post\"), /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"draggable-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    style: {\n      cursor: 'move'\n    },\n    id: \"draggable-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Post New Article\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"To post your article, please click the confirm button.\")), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    autoFocus: true,\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"Confirm\"))));\n};\n\nexport default NewPost;","map":{"version":3,"sources":["/Users/jieli/Desktop/reactblog/client/src/dashboard/NewPost.js"],"names":["React","useState","MdEditor","MarkdownIt","hljs","Button","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","TextField","makeStyles","Paper","PaperProps","PropTypes","useStyles","theme","paper","height","display","overflow","flexDirection","NewPost","newPost","formData","setFormData","title","description","content","classes","markdown","setMarkdown","open","setOpen","handleClickOpen","handleClose","mdParser","html","linkify","typographer","highlight","str","lang","getLanguage","value","__","handleEditorChange","text","onChange","e","target","name","shrink","handleChange","render","float","marginTop","cursor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport MdEditor from 'react-markdown-editor-lite';\nimport MarkdownIt from 'markdown-it';\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/atom-one-light.css'\nimport 'react-markdown-editor-lite/lib/index.css';\nimport { Button, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper, { PaperProps } from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        height: '800px',\n        display: 'flex',\n        overflow: 'auto',\n        flexDirection: 'column',\n    }\n}));\n\n\nconst NewPost = ({ newPost }) => {\n\n    const [formData, setFormData] = useState({\n        title: \"\",\n        description: \"\",\n        content: \"\"\n    })\n    const { title, description, content } = formData;\n\n    const classes = useStyles();\n\n    const [markdown, setMarkdown] = useState(\"\")\n\n    const [open, setOpen] = useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    }\n    const handleClose = () => {\n        setOpen(false);\n    }\n\n    const mdParser = new MarkdownIt({\n        html: true,\n        linkify: true,\n        typographer: true,\n        highlight: function (str, lang) {\n            if (lang && hljs.getLanguage(lang)) {\n                try {\n                    return hljs.highlight(lang, str).value\n                } catch (__) {\n\n                }\n            }\n            return '';\n        }\n    });\n    const handleEditorChange = ({ html, text }) => {\n        setMarkdown(text)\n    }\n    const onChange = e => {\n        setFormData({ ...formData, [e.target.name]: e.target.value })\n    };\n\n    return (\n        <div>\n            <TextField\n                id=\"standard-full-width\"\n                label=\"title\"\n                name=\"title\"\n                placeholder=\"Please enter the article title\"\n                helperText=\"No more than 20 character!\"\n                fullWidth\n                margin=\"normal\"\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                onChange={e => onChange(e)}\n            />\n            <FormControl variant=\"outlined\">\n                <InputLabel htmlFor=\"component-outlined\">Description</InputLabel>\n                <OutlinedInput id=\"component-outlined\" value={name} name={description} onChange={handleChange} label=\"Name\" />\n            </FormControl>\n            <Paper className={classes.paper}>\n                <MdEditor style={{ height: '100%' }}\n                    renderHTML={(text) => mdParser.render(text)}\n                    value={markdown} onChange={handleEditorChange\n                    } />\n            </Paper>\n            <Button variant='contained' style={{ float: 'right', marginTop: '3%' }} onClick={handleClickOpen}>Post</Button>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"draggable-dialog-title\"\n            >\n                <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n                    Post New Article\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        To post your article, please click the confirm button.\n                </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button autoFocus onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Confirm\n                     </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nexport default NewPost\n"]},"metadata":{},"sourceType":"module"}